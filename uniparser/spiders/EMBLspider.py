import scrapy

embl_list = [
    "AAB02268.1",
    "CAB15355.2",
    "AAL19452.1",
    "AAA61835.1",
    "AAU27110.1",
    "AAA25806.1",
    "GAD64975.1",
    "AIM18906.1",
    "CAE29003.1",
    "AAA25638.1",
    "BAA06970.1",
    "BAA18407.1",
    "CAA67085.1",
    "AAB80907.1",
    "CAB13804.1",
    "CAA67084.1",
    "AAB40773.1",
    "CAA77323.1",
    "AAA83977.1",
    "BAA14139.3",
    "CAA56362.1",
    "CAA67082.1",
    "AAB40773.1",
    "AAA61836.1",
    "AAQ19839.1",
    "BAB98903.1",
    "ABR47998.1",
    "AAA93043.1",
    "CAB15354.3",
    "AAA23536.1",
    "AAB59154.1",
    "AAA25275.1",
    "CAA67083.1",
    "CAA67082.1",
    "CAA67084.1",
    "ABF14399.1",
    "CAB15354.3",
    "AAD45903.1",
    "AAA92262.1",
    "AAA98223.1",
    "AAQ19838.1",
    "CAA77321.1",
    "AAL21375.1",
    "CAB15356.1",
    "CAA86836.1",
    "AAQ19838.1",
    "AAC43161.1",
    "AAB18444.1",
    "AAZ90253.1",
    "AAC73839.1",
    "AAL74244.1",
    "AAL74245.1",
    "CAL34516.1",
    "AAL74246.1",
    "AAB40773.1",
    "AAB40772.1",
    "AAD30205.1",
    "AAC73234.1",
    "AAL15149.1",
    "BAC06608.1",
    "AAA93060.1",
    "BAA18406.1",
    "CAC45653.1",
    "ACK78531.1",
    "AAP17869.1",
    "AAQ19839.1",
    "ABK73642.1",
    "AAD30205.1",
    "AAB40773.1",
    "AAB40772.1",
    "AAC74929.1",
    "BAA22248.1",
    "U00096",
    "BAA22247.1",
    "AAC73839.1",
    "AAC75167.1",
    "AAC43450.1",
    "BAA13186.1",
    "AAB40773.1",
    "BAA18407.1",
    "AAQ19838.1",
    "AAQ19839.1",
    "BAA25408.1",
    "AAR38851.1",
    "AAL20560.1",
    "CAL20951.1",
    "AAB17905.1",
    "AAA62064.1",
    "AAK56853.1",
    "AAK56852.1",
    "CCP43718.1",
    "AAL15149.1",
    "ABF12829.1",
    "AAB40772.1",
    "AAB40773.1",
    "AAD30205.1",
    "CAC83722.1",
    "BAC06609.1",
    "CCP44463.1",
    "AAB03047.1",
    "AAC15948.1",
    "AAB00835.1",
    "AAM38201.1",
    "CAA67642.1",
    "AAC23339.1",
    "CCP42913.1",
    "CAB13804.1",
    "AAB80907.1",
    "BAA13186.1",
    "BAA17268.1",
    "ABF12189.1",
    "CAA32418.1",
]


class UniprotSpider(scrapy.Spider):
    name = "emblspider"
    download_timeout = 3600

    def start_requests(self):
        urls = [f"https://www.ebi.ac.uk/ena/data/view/{embl_id}&display=fasta" for embl_id in embl_list]

        for url in urls:
            yield scrapy.Request(url=url, callback=self.parse, dont_filter=True)

    def parse(self, response):
        yield {"Nuc_sequence": response.xpath("//body//text()").get()}

