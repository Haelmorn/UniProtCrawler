import scrapy

upfastalist = [
"Q59385",
"O32220",
"Q8ZR95",
"P32113",
"Q5ZWR1",
"P12374",
"U2ZU49",
"A0A0D3MJQ5",
"Q6N3Y0",
"P0A006",
"P45947",
"P74313",
"P13512",
"O07084",
"O31844",
"P13511",
"P38054",
"P00392",
"P16171",
"P17239",
"P0AB93",
"P13509",
"P38054",
"P05425",
"Q7SIF3",
"Q8NQC8",
"A6TP80",
"Q59465",
"O32219",
"P0A9H3",
"P20021",
"Q60048",
"P13510",
"P13509",
"P13511",
"Q1KLK1",
"O32219",
"Q9RPE9",
"P04129",
"P13113",
"Q7SIF4",
"P04140",
"Q8ZN77",
"O32221",
"Q47840",
"Q7SIF4",
"P32705",
"P37617",
"Q3YW59",
"P75757",
"Q8RTE5",
"Q8RTE4",
"Q0PBE4",
"Q8RTE3",
"P38054",
"P77239",
"P77211",
"P36649",
"Q8ZRS2",
"P76398",
"P46003",
"P74312",
"Q92R45",
"B7J950",
"Q7UC03",
"Q7SIF3",
"A0R3A7",
"P77211",
"P38054",
"P77239",
"P39832",
"O34610",
"P0A9X1",
"O34946",
"P75757",
"P76425",
"P17117",
"P77258",
"P38054",
"P74313",
"Q7SIF4",
"Q7SIF3",
"P41407",
"Q831B2",
"P63462",
"Q8ZE60",
"P40685",
"P0AGE6",
"Q88FF8",
"Q93T20",
"P9WPS3",
"Q8ZRS2",
"Q1LAJ7",
"P77239",
"P38054",
"P77211",
"Q8VLX7",
"P76399",
"P9WJ83",
"P69380",
"P9WPT5",
"P37329",
"Q8PHA1",
"P9WGU3",
"P45323",
"P9WK09",
"O31844",
"O07084",
"P77258",
"P73241",
"Q1LCD7",
"P0AC26",
]


class UniprotSpider(scrapy.Spider):
    name = "fastaspider"
    download_timeout = 3600

    def start_requests(self):
        urls = [
            f"https://www.uniprot.org/uniprot/{fasta_id}.fasta" for fasta_id in upfastalist]

        for url in urls:
            yield scrapy.Request(url=url, callback=self.parse, dont_filter=True)

    def parse(self, response):
        yield {"fasta": response.xpath("//body//text()").get()}
